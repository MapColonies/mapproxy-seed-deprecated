global:
  cloudProvider:
    dockerRegistryUrl: acrarolibotnonprod.azurecr.io
    imagePullSecretName: "acr-registry"
    flavor: raster-dev
  environment: {}

authentication:
  ca:
    enabled: false
    useExternal: false
    externalSecretName: ""

rasterCommon:
  ca:
    secretName: ""
    path: "/usr/local/share/ca-certificates"
    key: "ca.crt"
  ssl:
    enabled: false
    useExternal: false
    externalSecretName: ""
  db:
    host: "10.0.4.4"
    name: "raster-dev"
    port: 5432
    sslEnabled: false
    rejectUnauthorized: false
    secrets:
      useExternal: true
      externalSecretName: "raster-dev-postgres-secret"
  storage:
    tilesStorageProvider: "FS"
    mapproxyConfigProvider: "DB"
    fs:
      internalPvc:
        enabled: true
        name: internal-pvc-nfs
        tilesSubPath: tiles

environment: development
initialDelaySeconds: 60
splunkIndex: ""
resetOnConfigChange: true
imagePullPolicy: Always

cloudProvider:
  dockerRegistryUrl: my-registry-url.io
  imagePullSecretName: "my-registry-secret"
  flavor: openshift

mapproxy:
  enabled: true
  replicaCount: 1
  nodePort: 30002
  image:
    repository: mapproxy-seed
    tag: "v1.0.0"
  port: 80
  targetPort: 8080
  resources:
    enabled: true
    value:
      limits:
        cpu: 100m
        memory: 128Mi
      requests:
        cpu: 100m
        memory: 128Mi

initContainer:
  image:
    repository: mapproxinator
    tag: "v1.0.10"
  env:
    logLevel: info
    ssl:
      CA_DIR: /opt/certs/ca/
      KEY_DIR: /opt/certs/key/
      CERT_DIR: /opt/certs/cert/
      CA_FILE_LOCATION: /opt/certs/ca/ca.pem
      KEY_FILE_LOCATION: /opt/certs/key/key.pem
      CERT_FILE_LOCATION: /opt/certs/cert/cert.pem
  resources:
    enabled: false
    value:
      limits:
        cpu: 100m
        memory: 128Mi
      requests:
        cpu: 100m
        memory: 128Mi

mapproxinator:
  enabled: true
  replicaCount: 1
  image:
    repository: mapproxinator
    tag: "v1.0.10"
  db:
    nameOverride:
    schema: MapproxyConfig
  port: 80
  targetPort: 8081
  nodePort: 30002
  env:
    logLevel: info
    poll:
      timeout:
        frequencyMS: 5000
        readinessKillMaxSeconds: 300
        requestsKillSeconds: 5
        afterUpdateDelaySeconds: 0.5
    ssl: # external paths
      CA_DIR: /opt/certs/ca/
      KEY_DIR: /opt/certs/key/
      CERT_DIR: /opt/certs/cert/
      CA_FILE_LOCATION: /opt/certs/ca/ca.pem
      KEY_FILE_LOCATION: /opt/certs/key/key.pem
      CERT_FILE_LOCATION: /opt/certs/cert/cert.pem
    logPrettyPrintEnabled: false
    responseCompressionEnabled: true
    requestPayloadLimit: 1mb
  resources:
    enabled: false
    value:
      limits:
        cpu: 100m
        memory: 128Mi
      requests:
        cpu: 100m
        memory: 128Mi